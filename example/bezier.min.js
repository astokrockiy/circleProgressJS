function A(e,r){return 1-3*r+3*e}function B(e,r){return 3*r-6*e}function C(e){return 3*e}function calcBezier(e,r,n){return((A(r,n)*e+B(r,n))*e+C(r))*e}function getSlope(e,r,n){return 3*A(r,n)*e*e+2*B(r,n)*e+C(r)}function binarySubdivide(e,r,n,i,S){var t,a,o=0;do a=r+(n-r)/2,t=calcBezier(a,i,S)-e,t>0?n=a:r=a;while(Math.abs(t)>SUBDIVISION_PRECISION&&++o<SUBDIVISION_MAX_ITERATIONS);return a}function newtonRaphsonIterate(e,r,n,i){for(var S=0;NEWTON_ITERATIONS>S;++S){var t=getSlope(r,n,i);if(0===t)return r;var a=calcBezier(r,n,i)-e;r-=a/t}return r}function LinearEasing(e){return e}function bezier(e,r,n,i){function S(r){for(var i=0,S=1,a=kSplineTableSize-1;S!==a&&t[S]<=r;++S)i+=kSampleStepSize;--S;var o=(r-t[S])/(t[S+1]-t[S]),l=i+o*kSampleStepSize,u=getSlope(l,e,n);return u>=NEWTON_MIN_SLOPE?newtonRaphsonIterate(r,l,e,n):0===u?l:binarySubdivide(r,i,i+kSampleStepSize,e,n)}if(!(e>=0&&1>=e&&n>=0&&1>=n))throw new Error("bezier x values must be in [0, 1] range");if(e===r&&n===i)return LinearEasing;for(var t=float32ArraySupported?new Float32Array(kSplineTableSize):new Array(kSplineTableSize),a=0;kSplineTableSize>a;++a)t[a]=calcBezier(a*kSampleStepSize,e,n);return function(e){return 0===e||1===e?e:calcBezier(S(e),r,i)}}var NEWTON_ITERATIONS=4,NEWTON_MIN_SLOPE=.001,SUBDIVISION_PRECISION=1e-7,SUBDIVISION_MAX_ITERATIONS=10,kSplineTableSize=11,kSampleStepSize=1/(kSplineTableSize-1),float32ArraySupported="function"==typeof Float32Array;